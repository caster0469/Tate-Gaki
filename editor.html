<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>縦書き小説エディタ - 編集</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="app-body">
  <header class="toolbar">
    <div class="toolbar-group">
      <button id="backHome" class="btn">ホーム</button>
      <span id="projectTitle" class="toolbar-title"></span>
    </div>
    <div class="toolbar-group">
      <label class="toolbar-label">方向</label>
      <select id="directionSelect" class="input">
        <option value="vertical-rl">縦書き</option>
        <option value="horizontal-tb">横書き</option>
      </select>
      <label class="toolbar-label">フォント</label>
      <select id="fontSelect" class="input">
        <option value="'Hiragino Mincho ProN', 'Yu Mincho', serif">明朝</option>
        <option value="'Hiragino Sans', 'Yu Gothic', sans-serif">ゴシック</option>
        <option value="'Noto Serif JP', serif">Noto Serif</option>
      </select>
      <label class="toolbar-label">サイズ</label>
      <input id="fontSizeInput" class="input small" type="number" min="12" max="36" />
      <label class="toolbar-label">行間</label>
      <input id="lineHeightInput" class="input small" type="number" step="0.1" min="1" max="3" />
      <label class="toolbar-label">段数</label>
      <input id="columnsInput" class="input small" type="number" min="1" max="6" />
    </div>
    <div class="toolbar-group">
      <button id="rubyBtn" class="btn">ルビ</button>
      <button id="tcyBtn" class="btn">縦中横</button>
      <button id="emphBtn" class="btn">傍点</button>
      <button id="searchToggle" class="btn">検索/置換</button>
      <button id="exportProject" class="btn">JSONエクスポート</button>
      <button id="exportHtml" class="btn">HTML書き出し</button>
      <button id="printBtn" class="btn">印刷/PDF</button>
    </div>
  </header>

  <section id="searchPanel" class="search-panel hidden">
    <div class="search-row">
      <input id="searchInput" class="input" type="text" placeholder="検索" />
      <input id="replaceInput" class="input" type="text" placeholder="置換" />
      <button id="findNext" class="btn">次を検索</button>
      <button id="replaceNext" class="btn">次を置換</button>
      <button id="replaceAll" class="btn">すべて置換</button>
    </div>
    <div class="search-row">
      <label class="checkbox">
        <input id="caseSensitive" type="checkbox" />
        大文字小文字を区別
      </label>
      <label class="checkbox">
        <input id="autoTcyToggle" type="checkbox" />
        数字自動TCY
      </label>
      <label class="toolbar-label">段落</label>
      <select id="paragraphSelect" class="input">
        <option value="indent">先頭1字下げ</option>
        <option value="none">字下げ無し</option>
        <option value="spaced">空行区切り</option>
      </select>
      <label class="toolbar-label">傍点</label>
      <select id="emphSelect" class="input">
        <option value="dot">ドット</option>
        <option value="sesame">ゴマ</option>
      </select>
    </div>
  </section>

  <main class="editor-layout">
    <aside class="chapters">
      <div class="panel-header">
        <h3>章</h3>
        <button id="addChapter" class="btn primary small">+ 追加</button>
      </div>
      <div id="chapterList" class="chapter-list"></div>
      <div class="chapter-controls">
        <button id="moveUp" class="btn small">↑</button>
        <button id="moveDown" class="btn small">↓</button>
      </div>
    </aside>

    <section class="editor-pane">
      <div class="editor-header">
        <input id="chapterTitle" class="input" type="text" placeholder="章タイトル" />
        <div class="count-display">
          <span id="chapterCount">0字</span>
          <span id="projectCount">合計 0字</span>
        </div>
      </div>
      <div id="paper" class="paper">
        <div id="editor" class="editor" contenteditable="true"></div>
      </div>
    </section>

    <aside class="notes">
      <div class="panel-header">
        <h3>メモ / 設定</h3>
      </div>
      <div id="notesEditor" class="notes-editor" contenteditable="true"></div>
    </aside>
  </main>

  <script src="app-shared.js"></script>
  <script src="app-editor.js"></script>
</body>
</html>
